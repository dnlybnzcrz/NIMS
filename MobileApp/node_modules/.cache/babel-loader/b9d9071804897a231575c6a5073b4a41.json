{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\User\\\\Desktop\\\\pbs-issp-nims-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\pbs-issp-nims-frontend\\\\src\\\\components\\\\MediaModal.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nvar MediaModal = function MediaModal(_ref) {\n  var show = _ref.show,\n    handleClose = _ref.handleClose,\n    mediaUrls = _ref.mediaUrls,\n    mediaType = _ref.mediaType,\n    _ref$initialIndex = _ref.initialIndex,\n    initialIndex = _ref$initialIndex === void 0 ? 0 : _ref$initialIndex;\n  var _useState = useState(initialIndex),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentIndex = _useState2[0],\n    setCurrentIndex = _useState2[1];\n  useEffect(function () {\n    setCurrentIndex(initialIndex);\n  }, [initialIndex, show]);\n  useEffect(function () {\n    var handleKeyDown = function handleKeyDown(e) {\n      if (!show) return;\n      if (mediaType !== \"image\") return;\n      if (e.key === \"ArrowRight\") {\n        goToNext();\n      } else if (e.key === \"ArrowLeft\") {\n        goToPrevious();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return function () {\n      return window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [currentIndex, show, mediaType]);\n  var goToNext = function goToNext() {\n    setCurrentIndex(function (prevIndex) {\n      return (prevIndex + 1) % mediaUrls.length;\n    });\n  };\n  var goToPrevious = function goToPrevious() {\n    setCurrentIndex(function (prevIndex) {\n      return (prevIndex - 1 + mediaUrls.length) % mediaUrls.length;\n    });\n  };\n  var renderMedia = function renderMedia() {\n    if (!mediaUrls || mediaUrls.length === 0) return null;\n    if (mediaType === \"image\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: \"relative\",\n          textAlign: \"center\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: mediaUrls[currentIndex],\n        alt: \"Media \".concat(currentIndex + 1),\n        style: {\n          width: \"100%\",\n          maxHeight: \"70vh\",\n          objectFit: \"contain\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }\n      }), mediaUrls.length > 1 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        variant: \"light\",\n        onClick: goToPrevious,\n        style: {\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"10px\",\n          transform: \"translateY(-50%)\",\n          opacity: 0.7,\n          zIndex: 10\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }\n      }, \"\\u2190\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"light\",\n        onClick: goToNext,\n        style: {\n          position: \"absolute\",\n          top: \"50%\",\n          right: \"10px\",\n          transform: \"translateY(-50%)\",\n          opacity: 0.7,\n          zIndex: 10\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }\n      }, \"\\u2192\")), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginTop: \"8px\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }, currentIndex + 1, \" / \", mediaUrls.length));\n    } else if (mediaType === \"audio\") {\n      return /*#__PURE__*/React.createElement(\"audio\", {\n        controls: true,\n        style: {\n          width: \"100%\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"source\", {\n        src: mediaUrls[0],\n        type: \"audio/mpeg\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }), \"Your browser does not support the audio element.\");\n    } else if (mediaType === \"video\") {\n      return /*#__PURE__*/React.createElement(\"video\", {\n        controls: true,\n        style: {\n          width: \"100%\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"source\", {\n        src: mediaUrls[0],\n        type: \"video/mp4\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }\n      }), \"Your browser does not support the video element.\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 14\n        }\n      }, \"Unsupported media type\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    size: \"lg\",\n    centered: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"Media Preview\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, renderMedia()), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, \"Close\")));\n};\nexport default MediaModal;","map":{"version":3,"names":["React","useState","useEffect","Modal","Button","MediaModal","_ref","show","handleClose","mediaUrls","mediaType","_ref$initialIndex","initialIndex","_useState","_useState2","_slicedToArray","currentIndex","setCurrentIndex","handleKeyDown","e","key","goToNext","goToPrevious","window","addEventListener","removeEventListener","prevIndex","length","renderMedia","createElement","style","position","textAlign","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","concat","width","maxHeight","objectFit","Fragment","variant","onClick","top","left","transform","opacity","zIndex","right","marginTop","controls","type","onHide","size","centered","Header","closeButton","Title","Body","Footer"],"sources":["C:/Users/User/Desktop/pbs-issp-nims-frontend/src/components/MediaModal.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\n\r\nconst MediaModal = ({ show, handleClose, mediaUrls, mediaType, initialIndex = 0 }) => {\r\n  const [currentIndex, setCurrentIndex] = useState(initialIndex);\r\n\r\n  useEffect(() => {\r\n    setCurrentIndex(initialIndex);\r\n  }, [initialIndex, show]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (!show) return;\r\n      if (mediaType !== \"image\") return;\r\n\r\n      if (e.key === \"ArrowRight\") {\r\n        goToNext();\r\n      } else if (e.key === \"ArrowLeft\") {\r\n        goToPrevious();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [currentIndex, show, mediaType]);\r\n\r\n  const goToNext = () => {\r\n    setCurrentIndex((prevIndex) => (prevIndex + 1) % mediaUrls.length);\r\n  };\r\n\r\n  const goToPrevious = () => {\r\n    setCurrentIndex((prevIndex) => (prevIndex - 1 + mediaUrls.length) % mediaUrls.length);\r\n  };\r\n\r\n  const renderMedia = () => {\r\n    if (!mediaUrls || mediaUrls.length === 0) return null;\r\n\r\n    if (mediaType === \"image\") {\r\n      return (\r\n        <div style={{ position: \"relative\", textAlign: \"center\" }}>\r\n          <img\r\n            src={mediaUrls[currentIndex]}\r\n            alt={`Media ${currentIndex + 1}`}\r\n            style={{ width: \"100%\", maxHeight: \"70vh\", objectFit: \"contain\" }}\r\n          />\r\n          {mediaUrls.length > 1 && (\r\n            <>\r\n              <Button\r\n                variant=\"light\"\r\n                onClick={goToPrevious}\r\n                style={{\r\n                  position: \"absolute\",\r\n                  top: \"50%\",\r\n                  left: \"10px\",\r\n                  transform: \"translateY(-50%)\",\r\n                  opacity: 0.7,\r\n                  zIndex: 10,\r\n                }}\r\n              >\r\n                &#8592;\r\n              </Button>\r\n              <Button\r\n                variant=\"light\"\r\n                onClick={goToNext}\r\n                style={{\r\n                  position: \"absolute\",\r\n                  top: \"50%\",\r\n                  right: \"10px\",\r\n                  transform: \"translateY(-50%)\",\r\n                  opacity: 0.7,\r\n                  zIndex: 10,\r\n                }}\r\n              >\r\n                &#8594;\r\n              </Button>\r\n            </>\r\n          )}\r\n          <div style={{ marginTop: \"8px\" }}>\r\n            {currentIndex + 1} / {mediaUrls.length}\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (mediaType === \"audio\") {\r\n      return (\r\n        <audio controls style={{ width: \"100%\" }}>\r\n          <source src={mediaUrls[0]} type=\"audio/mpeg\" />\r\n          Your browser does not support the audio element.\r\n        </audio>\r\n      );\r\n    } else if (mediaType === \"video\") {\r\n      return (\r\n        <video controls style={{ width: \"100%\" }}>\r\n          <source src={mediaUrls[0]} type=\"video/mp4\" />\r\n          Your browser does not support the video element.\r\n        </video>\r\n      );\r\n    } else {\r\n      return <p>Unsupported media type</p>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose} size=\"lg\" centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Media Preview</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>{renderMedia()}</Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n          Close\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default MediaModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}