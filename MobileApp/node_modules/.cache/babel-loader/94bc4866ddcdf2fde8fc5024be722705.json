{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\User\\\\Desktop\\\\NIMS\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\User\\\\Desktop\\\\NIMS\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\User\\\\Desktop\\\\NIMS\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\NIMS\\\\src\\\\components\\\\Homepage.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Navbar from \"./Navbar\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { Button } from \"react-bootstrap\";\nimport StoryModal from \"./StoryModal\"; // Import StoryModal component\nimport ReactPaginate from \"react-paginate\"; // Import React Paginate\nimport MediaModal from \"./MediaModal\"; // Import MediaModal component\nimport pbsheader from \"../logo/pbsheader.png\";\nimport \"../styles/Pagination.css\";\nimport \"../styles/Homepage.css\";\nvar Homepage = function Homepage() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    approvedReports = _useState2[0],\n    setApprovedReports = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showModal = _useState4[0],\n    setShowModal = _useState4[1]; // StoryModal visibility state\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedReport = _useState6[0],\n    setSelectedReport = _useState6[1]; // Store selected report\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    searchQuery = _useState8[0],\n    setSearchQuery = _useState8[1]; // Search query state\n  var _useState9 = useState(0),\n    _useState10 = _slicedToArray(_useState9, 2),\n    currentPage = _useState10[0],\n    setCurrentPage = _useState10[1]; // Current page (0-based index)\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    showMediaModal = _useState12[0],\n    setShowMediaModal = _useState12[1]; // MediaModal visibility state\n  var _useState13 = useState([]),\n    _useState14 = _slicedToArray(_useState13, 2),\n    mediaUrls = _useState14[0],\n    setMediaUrls = _useState14[1]; // Array of media URLs to preview\n  var _useState15 = useState(null),\n    _useState16 = _slicedToArray(_useState15, 2),\n    mediaType = _useState16[0],\n    setMediaType = _useState16[1]; // Type of media: image, audio, video\n  var _useState17 = useState(0),\n    _useState18 = _slicedToArray(_useState17, 2),\n    mediaInitialIndex = _useState18[0],\n    setMediaInitialIndex = _useState18[1]; // Initial index for media modal\n  var _useState19 = useState({}),\n    _useState20 = _slicedToArray(_useState19, 2),\n    expandedReports = _useState20[0],\n    setExpandedReports = _useState20[1]; // Track expanded state of reports by id\n  var rowsPerPage = 20; // Number of rows per page\n\n  // Check if the user is logged in and get the token\n  var user = JSON.parse(localStorage.getItem(\"user\") || sessionStorage.getItem(\"user\"));\n  var token = user ? user.token : null;\n  var config = {\n    headers: {\n      Authorization: token ? \"Bearer \".concat(token) : \"\" // Ensure token exists before appending\n    }\n  };\n  useEffect(function () {\n    if (token) {\n      fetchApprovedReports();\n    } else {\n      console.error(\"No token found, user is not authenticated\");\n      // Optionally, redirect to login or show a message\n    }\n  }, [token]); // Fetch reports when token is available\n\n  var fetchApprovedReports = function fetchApprovedReports() {\n    axios.get(\"https://api.radiopilipinas.online/nims/view\", config).then(function (res) {\n      var filteredApprovedReports = res.data.newsDataList.filter(function (report) {\n        return report.approved === true;\n      });\n      setApprovedReports(filteredApprovedReports);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  // Show StoryModal\n  var handleShowModal = function handleShowModal(report) {\n    setSelectedReport(report); // Set the selected report\n    setShowModal(true); // Show the modal\n  };\n\n  // Close StoryModal\n  var handleCloseModal = function handleCloseModal() {\n    setShowModal(false);\n  };\n\n  // Show MediaModal\n  var handleShowMediaModal = function handleShowMediaModal(mediaItems, type) {\n    var initialIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    setMediaUrls(mediaItems);\n    setMediaType(type);\n    setMediaInitialIndex(initialIndex);\n    setShowMediaModal(true);\n  };\n\n  // Close MediaModal\n  var handleCloseMediaModal = function handleCloseMediaModal() {\n    setShowMediaModal(false);\n    setMediaUrls([]);\n    setMediaType(null);\n    setMediaInitialIndex(0);\n  };\n\n  // Filter reports based on search query\n  var filterReports = function filterReports() {\n    return approvedReports.filter(function (report) {\n      var author = report.author,\n        lead = report.lead,\n        tags = report.tags,\n        dateCreated = report.dateCreated;\n      var formattedDate = moment(dateCreated).format(\"MM/DD/YYYY, h:mm:ss a\");\n      var tagsToSearch = Array.isArray(tags) ? tags.join(', ') : ''; // Join tags into a string if it's an array\n\n      return author.station && author.station.toLowerCase().includes(searchQuery.toLowerCase()) || author.name.first && author.name.first.toLowerCase().includes(searchQuery.toLowerCase()) || author.name.middle && author.name.middle.toLowerCase().includes(searchQuery.toLowerCase()) || author.name.last && author.name.last.toLowerCase().includes(searchQuery.toLowerCase()) || lead && lead.toLowerCase().includes(searchQuery.toLowerCase()) || tagsToSearch.toLowerCase().includes(searchQuery.toLowerCase()) || formattedDate && formattedDate.toLowerCase().includes(searchQuery.toLowerCase());\n    });\n  };\n\n  // Calculate paginated reports for current page\n  var paginatedReports = filterReports().slice(currentPage * rowsPerPage, (currentPage + 1) * rowsPerPage);\n\n  // Handle page change\n  var handlePageClick = function handlePageClick(selectedPage) {\n    setCurrentPage(selectedPage.selected);\n  };\n\n  // Delete report function\n  var handleDeleteReport = function handleDeleteReport(reportId) {\n    var confirmDelete = window.confirm(\"Are you sure you want to delete this report?\");\n    if (confirmDelete) {\n      axios.delete(\"https://api.radiopilipinas.online/nims/delete/\".concat(reportId), config).then(function () {\n        // Filter out the deleted report from state\n        setApprovedReports(approvedReports.filter(function (report) {\n          return report._id !== reportId;\n        }));\n      }).catch(function (err) {\n        console.error(err);\n      });\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"white\",\n      padding: \"10px 0\",\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: pbsheader,\n    alt: \"PBS Header\",\n    style: {\n      maxWidth: \"100%\",\n      height: \"auto\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container my-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"social-feed\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-center mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, \"Approved Reports Feed\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control mb-4\",\n    placeholder: \"Search by source, headline, lead, tags, or date/time\",\n    value: searchQuery,\n    onChange: function onChange(e) {\n      return setSearchQuery(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }), paginatedReports.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"feed\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, paginatedReports.map(function (report) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: report._id,\n      className: \"post card mb-4 shadow-sm\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-header d-flex align-items-center mb-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      style: {\n        fontSize: \"1.1rem\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 23\n      }\n    }, report.author.name.first, \" \", report.author.name.last), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: \"0.85rem\",\n        color: \"#555\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 23\n      }\n    }, report.author.station), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: \"0.75rem\",\n        color: \"#888\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 23\n      }\n    }, moment(report.dateCreated).fromNow()))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-content mb-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      style: {\n        fontWeight: \"600\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, report.title), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, expandedReports[report._id] ? report.lead || \"\" : (typeof report.lead === \"string\" ? report.lead.split(\" \").slice(0, 30).join(\" \") : \"\") + (typeof report.lead === \"string\" && report.lead.split(\" \").length > 30 ? \"...\" : \"\"), typeof report.lead === \"string\" && report.lead.split(\" \").length > 30 && /*#__PURE__*/React.createElement(\"span\", {\n      onClick: function onClick() {\n        setExpandedReports(function (prev) {\n          return _objectSpread({}, prev, _defineProperty({}, report._id, !prev[report._id]));\n        });\n      },\n      style: {\n        color: \"blue\",\n        cursor: \"pointer\",\n        marginLeft: \"5px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, expandedReports[report._id] ? \" see less\" : \" see more\")), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        textAlign: \"justify\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 23\n      }\n    }, \"Story: \"), expandedReports[report._id + \"_body\"] ? report.body || \"\" : (typeof report.body === \"string\" ? report.body.split(\" \").slice(0, 50).join(\" \") : \"\") + (typeof report.body === \"string\" && report.body.split(\" \").length > 50 ? \"...\" : \"\"), typeof report.body === \"string\" && report.body.split(\" \").length > 50 && /*#__PURE__*/React.createElement(\"span\", {\n      onClick: function onClick() {\n        setExpandedReports(function (prev) {\n          return _objectSpread({}, prev, _defineProperty({}, report._id + \"_body\", !prev[report._id + \"_body\"]));\n        });\n      },\n      style: {\n        color: \"blue\",\n        cursor: \"pointer\",\n        marginLeft: \"5px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 25\n      }\n    }, expandedReports[report._id + \"_body\"] ? \" see less\" : \" see more\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 24\n      }\n    }, \"Tags: \"), report.tags.join(', ')), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 24\n      }\n    }, \"Remarks: \"), report.remarks)), function () {\n      var combinedMedia = [];\n\n      // Add main image if exists\n      if (report.image || report.imageUrl) {\n        combinedMedia.push({\n          type: \"image\",\n          url: report.image || report.imageUrl\n        });\n      }\n\n      // Add images\n      if (report.files && report.files.images && report.files.images.length > 0) {\n        report.files.images.forEach(function (img) {\n          combinedMedia.push({\n            type: \"image\",\n            url: \"https://pbs-nims.s3.ap-southeast-1.amazonaws.com\".concat(img)\n          });\n        });\n      }\n\n      // Add videos\n      if (report.files && report.files.videos && report.files.videos.length > 0) {\n        report.files.videos.forEach(function (video) {\n          combinedMedia.push({\n            type: \"video\",\n            url: \"https://pbs-nims.s3.ap-southeast-1.amazonaws.com\".concat(video)\n          });\n        });\n      }\n      if (combinedMedia.length === 0) return null;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media-section mb-3\",\n        style: {\n          display: \"flex\",\n          gap: \"15px\",\n          overflowX: \"auto\",\n          flexWrap: \"wrap\",\n          justifyContent: \"center\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 23\n        }\n      }, combinedMedia.map(function (media, idx) {\n        if (media.type === \"image\") {\n          return /*#__PURE__*/React.createElement(\"img\", {\n            key: idx,\n            src: media.url,\n            alt: \"media-\".concat(idx),\n            style: {\n              height: \"300px\",\n              borderRadius: \"10px\",\n              cursor: \"pointer\",\n              flexShrink: 0,\n              objectFit: \"cover\"\n            },\n            draggable: \"true\",\n            onDragStart: function onDragStart(e) {\n              e.dataTransfer.setData('DownloadURL', \"image/jpeg:\".concat(media.url));\n            },\n            onClick: function onClick() {\n              return handleShowMediaModal(combinedMedia, null, idx);\n            },\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 31\n            }\n          });\n        } else if (media.type === \"video\") {\n          return /*#__PURE__*/React.createElement(\"video\", {\n            key: idx,\n            controls: true,\n            style: {\n              height: \"300px\",\n              maxWidth: \"400px\",\n              objectFit: \"cover\",\n              borderRadius: \"10px\",\n              boxShadow: \"0 2px 6px rgba(0,0,0,0.15)\",\n              cursor: \"pointer\",\n              flexShrink: 0\n            },\n            draggable: \"true\",\n            onDragStart: function onDragStart(e) {\n              e.dataTransfer.setData('DownloadURL', \"video/mp4:\".concat(media.url));\n            },\n            onClick: function onClick() {\n              return handleShowMediaModal(combinedMedia, null, idx);\n            },\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(\"source\", {\n            src: media.url,\n            type: \"video/mp4\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 33\n            }\n          }), \"Your browser does not support the video element.\");\n        } else {\n          return null;\n        }\n      }));\n    }(), \"+\", report.files && report.files.audios && report.files.audios.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"media-section mb-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        fontWeight: \"600\",\n        marginBottom: \"0.5rem\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 23\n      }\n    }, \"Audio:\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"10px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 23\n      }\n    }, report.files.audios.map(function (audio, index) {\n      var audioUrl = \"https://pbs-nims.s3.ap-southeast-1.amazonaws.com\".concat(audio);\n      return /*#__PURE__*/React.createElement(\"audio\", {\n        key: index,\n        controls: true,\n        style: {\n          width: \"100%\",\n          maxWidth: \"400px\",\n          borderRadius: \"8px\",\n          boxShadow: \"0 2px 6px rgba(0,0,0,0.15)\",\n          cursor: \"pointer\"\n        },\n        draggable: \"true\",\n        onDragStart: function onDragStart(e) {\n          e.dataTransfer.setData('DownloadURL', \"audio/mpeg:\".concat(audioUrl));\n        },\n        onClick: function onClick() {\n          return handleShowMediaModal(report.files.audios.map(function (a) {\n            return {\n              type: \"audio\",\n              url: \"https://pbs-nims.s3.ap-southeast-1.amazonaws.com\".concat(a)\n            };\n          }), \"audio\", index);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"source\", {\n        src: audioUrl,\n        type: \"audio/mpeg\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 31\n        }\n      }), \"Your browser does not support the audio tag.\");\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-actions d-flex justify-content-between mt-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outline-primary\",\n      size: \"sm\",\n      onClick: function onClick() {\n        return handleShowModal(report);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    }, \"Read Full Story\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"outline-danger\",\n      size: \"sm\",\n      onClick: function onClick() {\n        return handleDeleteReport(report._id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 21\n      }\n    }, \"Delete\")));\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center my-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 13\n    }\n  }, \"No approved reports found!\"), /*#__PURE__*/React.createElement(ReactPaginate, {\n    previousLabel: /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 28\n      }\n    }, \"\\xAB Previous\"),\n    nextLabel: /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 24\n      }\n    }, \"Next \\xBB\"),\n    pageCount: Math.ceil(filterReports().length / rowsPerPage),\n    onPageChange: handlePageClick,\n    containerClassName: \"pagination\",\n    pageClassName: \"page-item\",\n    pageLinkClassName: \"page-link\",\n    previousClassName: \"page-item\",\n    nextClassName: \"page-item\",\n    previousLinkClassName: \"page-link\",\n    nextLinkClassName: \"page-link\",\n    activeClassName: \"active\",\n    disabledClassName: \"disabled\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 11\n    }\n  }))), showModal && selectedReport && /*#__PURE__*/React.createElement(StoryModal, {\n    showModal: showModal,\n    handleCloseModal: handleCloseModal,\n    selectedNewsItem: selectedReport,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 9\n    }\n  }), showMediaModal && mediaUrls.length > 0 && /*#__PURE__*/React.createElement(MediaModal, {\n    show: showMediaModal,\n    handleClose: handleCloseMediaModal,\n    mediaItems: mediaUrls,\n    initialIndex: mediaInitialIndex,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 9\n    }\n  }));\n};\nexport default Homepage;","map":{"version":3,"names":["React","useEffect","useState","Navbar","axios","moment","Button","StoryModal","ReactPaginate","MediaModal","pbsheader","Homepage","_useState","_useState2","_slicedToArray","approvedReports","setApprovedReports","_useState3","_useState4","showModal","setShowModal","_useState5","_useState6","selectedReport","setSelectedReport","_useState7","_useState8","searchQuery","setSearchQuery","_useState9","_useState10","currentPage","setCurrentPage","_useState11","_useState12","showMediaModal","setShowMediaModal","_useState13","_useState14","mediaUrls","setMediaUrls","_useState15","_useState16","mediaType","setMediaType","_useState17","_useState18","mediaInitialIndex","setMediaInitialIndex","_useState19","_useState20","expandedReports","setExpandedReports","rowsPerPage","user","JSON","parse","localStorage","getItem","sessionStorage","token","config","headers","Authorization","concat","fetchApprovedReports","console","error","get","then","res","filteredApprovedReports","data","newsDataList","filter","report","approved","catch","err","log","handleShowModal","handleCloseModal","handleShowMediaModal","mediaItems","type","initialIndex","arguments","length","undefined","handleCloseMediaModal","filterReports","author","lead","tags","dateCreated","formattedDate","format","tagsToSearch","Array","isArray","join","station","toLowerCase","includes","name","first","middle","last","paginatedReports","slice","handlePageClick","selectedPage","selected","handleDeleteReport","reportId","confirmDelete","window","confirm","delete","_id","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundColor","padding","textAlign","src","alt","maxWidth","height","className","placeholder","value","onChange","e","target","map","key","fontSize","color","fromNow","fontWeight","title","split","onClick","prev","_objectSpread","_defineProperty","cursor","marginLeft","body","remarks","combinedMedia","image","imageUrl","push","url","files","images","forEach","img","videos","video","display","gap","overflowX","flexWrap","justifyContent","media","idx","borderRadius","flexShrink","objectFit","draggable","onDragStart","dataTransfer","setData","controls","boxShadow","audios","marginBottom","flexDirection","audio","index","audioUrl","width","a","variant","size","previousLabel","nextLabel","pageCount","Math","ceil","onPageChange","containerClassName","pageClassName","pageLinkClassName","previousClassName","nextClassName","previousLinkClassName","nextLinkClassName","activeClassName","disabledClassName","selectedNewsItem","show","handleClose"],"sources":["C:/Users/User/Desktop/NIMS/src/components/Homepage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport StoryModal from \"./StoryModal\"; // Import StoryModal component\r\nimport ReactPaginate from \"react-paginate\"; // Import React Paginate\r\nimport MediaModal from \"./MediaModal\"; // Import MediaModal component\r\nimport pbsheader from \"../logo/pbsheader.png\";\r\nimport \"../styles/Pagination.css\";\r\nimport \"../styles/Homepage.css\";\r\n\r\nconst Homepage = () => {\r\n  const [approvedReports, setApprovedReports] = useState([]);\r\n  const [showModal, setShowModal] = useState(false); // StoryModal visibility state\r\n  const [selectedReport, setSelectedReport] = useState(null); // Store selected report\r\n  const [searchQuery, setSearchQuery] = useState(\"\"); // Search query state\r\n  const [currentPage, setCurrentPage] = useState(0); // Current page (0-based index)\r\n  const [showMediaModal, setShowMediaModal] = useState(false); // MediaModal visibility state\r\n  const [mediaUrls, setMediaUrls] = useState([]); // Array of media URLs to preview\r\n  const [mediaType, setMediaType] = useState(null); // Type of media: image, audio, video\r\n  const [mediaInitialIndex, setMediaInitialIndex] = useState(0); // Initial index for media modal\r\n  const [expandedReports, setExpandedReports] = useState({}); // Track expanded state of reports by id\r\n  const rowsPerPage = 20; // Number of rows per page\r\n\r\n  // Check if the user is logged in and get the token\r\n  const user = JSON.parse(localStorage.getItem(\"user\") || sessionStorage.getItem(\"user\"));\r\n  const token = user ? user.token : null;\r\n\r\n  const config = {\r\n    headers: {\r\n      Authorization: token ? `Bearer ${token}` : \"\", // Ensure token exists before appending\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      fetchApprovedReports();\r\n    } else {\r\n      console.error(\"No token found, user is not authenticated\");\r\n      // Optionally, redirect to login or show a message\r\n    }\r\n  }, [token]); // Fetch reports when token is available\r\n\r\n  const fetchApprovedReports = () => {\r\n    axios\r\n      .get(\"https://api.radiopilipinas.online/nims/view\", config)\r\n      .then((res) => {\r\n        const filteredApprovedReports = res.data.newsDataList.filter(report => report.approved === true);\r\n        setApprovedReports(filteredApprovedReports);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  // Show StoryModal\r\n  const handleShowModal = (report) => {\r\n    setSelectedReport(report); // Set the selected report\r\n    setShowModal(true); // Show the modal\r\n  };\r\n\r\n  // Close StoryModal\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  // Show MediaModal\r\n  const handleShowMediaModal = (mediaItems, type, initialIndex = 0) => {\r\n    setMediaUrls(mediaItems);\r\n    setMediaType(type);\r\n    setMediaInitialIndex(initialIndex);\r\n    setShowMediaModal(true);\r\n  };\r\n\r\n  // Close MediaModal\r\n  const handleCloseMediaModal = () => {\r\n    setShowMediaModal(false);\r\n    setMediaUrls([]);\r\n    setMediaType(null);\r\n    setMediaInitialIndex(0);\r\n  };\r\n\r\n  // Filter reports based on search query\r\n  const filterReports = () => {\r\n    return approvedReports.filter((report) => {\r\n      const { author, lead, tags, dateCreated } = report;\r\n      const formattedDate = moment(dateCreated).format(\"MM/DD/YYYY, h:mm:ss a\");\r\n      const tagsToSearch = Array.isArray(tags) ? tags.join(', ') : ''; // Join tags into a string if it's an array\r\n\r\n      return (\r\n        (author.station && author.station.toLowerCase().includes(searchQuery.toLowerCase())) ||\r\n        (author.name.first && author.name.first.toLowerCase().includes(searchQuery.toLowerCase())) ||\r\n        (author.name.middle && author.name.middle.toLowerCase().includes(searchQuery.toLowerCase())) ||\r\n        (author.name.last && author.name.last.toLowerCase().includes(searchQuery.toLowerCase())) ||\r\n        (lead && lead.toLowerCase().includes(searchQuery.toLowerCase())) ||\r\n        (tagsToSearch.toLowerCase().includes(searchQuery.toLowerCase())) ||\r\n        (formattedDate && formattedDate.toLowerCase().includes(searchQuery.toLowerCase()))\r\n      );\r\n    });\r\n  };\r\n\r\n  // Calculate paginated reports for current page\r\n  const paginatedReports = filterReports().slice(\r\n    currentPage * rowsPerPage,\r\n    (currentPage + 1) * rowsPerPage\r\n  );\r\n\r\n  // Handle page change\r\n  const handlePageClick = (selectedPage) => {\r\n    setCurrentPage(selectedPage.selected);\r\n  };\r\n\r\n  // Delete report function\r\n  const handleDeleteReport = (reportId) => {\r\n    const confirmDelete = window.confirm(\"Are you sure you want to delete this report?\");\r\n    if (confirmDelete) {\r\n      axios\r\n        .delete(`https://api.radiopilipinas.online/nims/delete/${reportId}`, config)\r\n        .then(() => {\r\n          // Filter out the deleted report from state\r\n          setApprovedReports(approvedReports.filter(report => report._id !== reportId));\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ backgroundColor: \"white\", padding: \"10px 0\", textAlign: \"center\" }}>\r\n        <img src={pbsheader} alt=\"PBS Header\" style={{ maxWidth: \"100%\", height: \"auto\" }} />\r\n      </div>\r\n      <Navbar />\r\n      <br />\r\n      <div className=\"container my-2\">\r\n        <div className=\"social-feed\">\r\n          <h3 className=\"text-center mb-4\">Approved Reports Feed</h3>\r\n\r\n          {/* Search input */}\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control mb-4\"\r\n            placeholder=\"Search by source, headline, lead, tags, or date/time\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n          />\r\n\r\n          {paginatedReports.length ? (\r\n            <div className=\"feed\">\r\n              {paginatedReports.map((report) => (\r\n                <div key={report._id} className=\"post card mb-4 shadow-sm\">\r\n                  <div className=\"post-header d-flex align-items-center mb-3\">\r\n                    <div>\r\n                      <strong style={{ fontSize: \"1.1rem\" }}>{report.author.name.first} {report.author.name.last}</strong>\r\n                      <div style={{ fontSize: \"0.85rem\", color: \"#555\" }}>{report.author.station}</div>\r\n                      <div style={{ fontSize: \"0.75rem\", color: \"#888\" }}>{moment(report.dateCreated).fromNow()}</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"post-content mb-3\">\r\n                    <h5 style={{ fontWeight: \"600\" }}>{report.title}</h5>\r\n                    <p>\r\n                      {expandedReports[report._id]\r\n                        ? report.lead || \"\"\r\n                        : (typeof report.lead === \"string\" ? report.lead.split(\" \").slice(0, 30).join(\" \") : \"\") + ((typeof report.lead === \"string\" && report.lead.split(\" \").length > 30) ? \"...\" : \"\")}\r\n                      {(typeof report.lead === \"string\" && report.lead.split(\" \").length > 30) && (\r\n                        <span\r\n                          onClick={() => {\r\n                            setExpandedReports((prev) => ({\r\n                              ...prev,\r\n                              [report._id]: !prev[report._id],\r\n                            }));\r\n                          }}\r\n                          style={{ color: \"blue\", cursor: \"pointer\", marginLeft: \"5px\" }}\r\n                        >\r\n                          {expandedReports[report._id] ? \" see less\" : \" see more\"}\r\n                        </span>\r\n                      )}\r\n                    </p>\r\n                    <p style={{ textAlign: \"justify\" }}>\r\n                      <strong>Story: </strong>\r\n                      {expandedReports[report._id + \"_body\"]\r\n                        ? report.body || \"\"\r\n                        : (typeof report.body === \"string\" ? report.body.split(\" \").slice(0, 50).join(\" \") : \"\") + ((typeof report.body === \"string\" && report.body.split(\" \").length > 50) ? \"...\" : \"\")}\r\n                      {(typeof report.body === \"string\" && report.body.split(\" \").length > 50) && (\r\n                        <span\r\n                          onClick={() => {\r\n                            setExpandedReports((prev) => ({\r\n                              ...prev,\r\n                              [report._id + \"_body\"]: !prev[report._id + \"_body\"],\r\n                            }));\r\n                          }}\r\n                          style={{ color: \"blue\", cursor: \"pointer\", marginLeft: \"5px\" }}\r\n                        >\r\n                          {expandedReports[report._id + \"_body\"] ? \" see less\" : \" see more\"}\r\n                        </span>\r\n                      )}\r\n                    </p>\r\n                    <p><strong>Tags: </strong>{report.tags.join(', ')}</p>\r\n                    <p><strong>Remarks: </strong>{report.remarks}</p>\r\n                  </div>\r\n\r\n                  {/* Media Section */}\r\n                  {/* Combined Media Section */}\r\n                  {(() => {\r\n                    const combinedMedia = [];\r\n\r\n                    // Add main image if exists\r\n                    if (report.image || report.imageUrl) {\r\n                      combinedMedia.push({\r\n                        type: \"image\",\r\n                        url: report.image || report.imageUrl,\r\n                      });\r\n                    }\r\n\r\n                    // Add images\r\n                    if (report.files && report.files.images && report.files.images.length > 0) {\r\n                      report.files.images.forEach((img) => {\r\n                        combinedMedia.push({\r\n                          type: \"image\",\r\n                          url: `https://pbs-nims.s3.ap-southeast-1.amazonaws.com${img}`,\r\n                        });\r\n                      });\r\n                    }\r\n\r\n                    // Add videos\r\n                    if (report.files && report.files.videos && report.files.videos.length > 0) {\r\n                      report.files.videos.forEach((video) => {\r\n                        combinedMedia.push({\r\n                          type: \"video\",\r\n                          url: `https://pbs-nims.s3.ap-southeast-1.amazonaws.com${video}`,\r\n                        });\r\n                      });\r\n                    }\r\n\r\n                    if (combinedMedia.length === 0) return null;\r\n\r\n                    return (\r\n                      <div className=\"media-section mb-3\" style={{ display: \"flex\", gap: \"15px\", overflowX: \"auto\", flexWrap: \"wrap\", justifyContent: \"center\" }}>\r\n                        {combinedMedia.map((media, idx) => {\r\n                          if (media.type === \"image\") {\r\n                            return (\r\n                              <img\r\n                                key={idx}\r\n                                src={media.url}\r\n                                alt={`media-${idx}`}\r\n                                style={{ height: \"300px\", borderRadius: \"10px\", cursor: \"pointer\", flexShrink: 0, objectFit: \"cover\" }}\r\n                                draggable=\"true\"\r\n                                onDragStart={(e) => {\r\n                                  e.dataTransfer.setData('DownloadURL', `image/jpeg:${media.url}`);\r\n                                }}\r\n                                onClick={() => handleShowMediaModal(combinedMedia, null, idx)}\r\n                              />\r\n                            );\r\n                          } else if (media.type === \"video\") {\r\n                            return (\r\n                              <video\r\n                                key={idx}\r\n                                controls\r\n                              style={{\r\n                                height: \"300px\",\r\n                                maxWidth: \"400px\",\r\n                                objectFit: \"cover\",\r\n                                borderRadius: \"10px\",\r\n                                boxShadow: \"0 2px 6px rgba(0,0,0,0.15)\",\r\n                                cursor: \"pointer\",\r\n                                flexShrink: 0,\r\n                              }}\r\n                                draggable=\"true\"\r\n                                onDragStart={(e) => {\r\n                                  e.dataTransfer.setData('DownloadURL', `video/mp4:${media.url}`);\r\n                                }}\r\n                                onClick={() => handleShowMediaModal(combinedMedia, null, idx)}\r\n                              >\r\n                                <source src={media.url} type=\"video/mp4\" />\r\n                                Your browser does not support the video element.\r\n                              </video>\r\n                            );\r\n                          } else {\r\n                            return null;\r\n                          }\r\n                        })}\r\n                      </div>\r\n                    );\r\n                  })()}\r\n+\r\n                  {/* Separate Audio Section */}\r\n                  {report.files && report.files.audios && report.files.audios.length > 0 && (\r\n                    <div className=\"media-section mb-3\">\r\n                      <h6 style={{ fontWeight: \"600\", marginBottom: \"0.5rem\" }}>Audio:</h6>\r\n                      <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"10px\" }}>\r\n                        {report.files.audios.map((audio, index) => {\r\n                          const audioUrl = `https://pbs-nims.s3.ap-southeast-1.amazonaws.com${audio}`;\r\n                          return (\r\n                            <audio\r\n                              key={index}\r\n                              controls\r\n                              style={{\r\n                                width: \"100%\",\r\n                                maxWidth: \"400px\",\r\n                                borderRadius: \"8px\",\r\n                                boxShadow: \"0 2px 6px rgba(0,0,0,0.15)\",\r\n                                cursor: \"pointer\",\r\n                              }}\r\n                              draggable=\"true\"\r\n                              onDragStart={(e) => {\r\n                                e.dataTransfer.setData('DownloadURL', `audio/mpeg:${audioUrl}`);\r\n                              }}\r\n                              onClick={() => handleShowMediaModal(report.files.audios.map(a => ({ type: \"audio\", url: `https://pbs-nims.s3.ap-southeast-1.amazonaws.com${a}` })), \"audio\", index)}\r\n                            >\r\n                              <source src={audioUrl} type=\"audio/mpeg\" />\r\n                              Your browser does not support the audio tag.\r\n                            </audio>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"post-actions d-flex justify-content-between mt-3\">\r\n                    <Button variant=\"outline-primary\" size=\"sm\" onClick={() => handleShowModal(report)}>\r\n                      Read Full Story\r\n                    </Button>\r\n                    <Button variant=\"outline-danger\" size=\"sm\" onClick={() => handleDeleteReport(report._id)}>\r\n                      Delete\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center my-4\">No approved reports found!</div>\r\n          )}\r\n\r\n          <ReactPaginate\r\n            previousLabel={<span>&laquo; Previous</span>}\r\n            nextLabel={<span>Next &raquo;</span>}\r\n            pageCount={Math.ceil(filterReports().length / rowsPerPage)}\r\n            onPageChange={handlePageClick}\r\n            containerClassName={\"pagination\"}\r\n            pageClassName={\"page-item\"}\r\n            pageLinkClassName={\"page-link\"}\r\n            previousClassName={\"page-item\"}\r\n            nextClassName={\"page-item\"}\r\n            previousLinkClassName={\"page-link\"}\r\n            nextLinkClassName={\"page-link\"}\r\n            activeClassName={\"active\"}\r\n            disabledClassName={\"disabled\"}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Story Modal */}\r\n      {showModal && selectedReport && (\r\n        <StoryModal\r\n          showModal={showModal}\r\n          handleCloseModal={handleCloseModal}\r\n          selectedNewsItem={selectedReport}\r\n        />\r\n      )}\r\n\r\n      {/* Media Modal */}\r\n      {showMediaModal && mediaUrls.length > 0 && (\r\n        <MediaModal\r\n          show={showMediaModal}\r\n          handleClose={handleCloseMediaModal}\r\n          mediaItems={mediaUrls}\r\n          initialIndex={mediaInitialIndex}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}