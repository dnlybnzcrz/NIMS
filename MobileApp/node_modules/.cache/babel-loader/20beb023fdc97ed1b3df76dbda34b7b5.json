{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\User\\\\Desktop\\\\NIMS\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\User\\\\Desktop\\\\NIMS\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\User\\\\Desktop\\\\NIMS\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\NIMS\\\\src\\\\components\\\\ReportCard.js\";\nimport React, { useState } from \"react\";\nimport moment from \"moment\";\nimport { Button } from \"react-bootstrap\";\nimport { FaBookOpen, FaTrash } from \"react-icons/fa\";\nimport \"./ReportCard.css\";\nvar ReportCard = function ReportCard(_ref) {\n  var report = _ref.report,\n    handleShowModal = _ref.handleShowModal,\n    handleDeleteReport = _ref.handleDeleteReport,\n    handleShowMediaModal = _ref.handleShowMediaModal,\n    searchQuery = _ref.searchQuery;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    expandedReports = _useState2[0],\n    setExpandedReports = _useState2[1]; // Helper function to highlight matching text\n  var highlightText = function highlightText(text, query) {\n    if (!query) return text;\n    var regex = new RegExp(\"(\".concat(query.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'), \")\"), \"gi\");\n    var parts = text.split(regex);\n    return parts.map(function (part, i) {\n      return regex.test(part) ? /*#__PURE__*/React.createElement(\"mark\", {\n        key: i,\n        className: \"highlight\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 9\n        }\n      }, part) : part;\n    });\n  };\n\n  // Toggle expanded state for lead and body\n  var toggleExpand = function toggleExpand(key) {\n    setExpandedReports(function (prev) {\n      return _objectSpread({}, prev, _defineProperty({}, key, !prev[key]));\n    });\n  };\n\n  // Combined media for images and videos\n  var combinedMedia = [];\n  if (report.image || report.imageUrl) {\n    combinedMedia.push({\n      type: \"image\",\n      url: report.image || report.imageUrl\n    });\n  }\n  if (report.files && report.files.images && report.files.images.length > 0) {\n    report.files.images.forEach(function (img) {\n      combinedMedia.push({\n        type: \"image\",\n        url: \"https://pbs-nims.s3.ap-southeast-1.amazonaws.com\".concat(img)\n      });\n    });\n  }\n  if (report.files && report.files.videos && report.files.videos.length > 0) {\n    report.files.videos.forEach(function (video) {\n      combinedMedia.push({\n        type: \"video\",\n        url: \"https://pbs-nims.s3.ap-southeast-1.amazonaws.com\".concat(video)\n      });\n    });\n  }\n\n  // Assign media section class based on number of media items for proper sizing\n  // Also separate portrait and landscape media for different sizing\n  var mediaSectionClass = \"media-section\";\n  var mediaOrientationClass = \"\";\n\n  // Helper function to determine orientation of media by aspect ratio\n  var isPortrait = function isPortrait(url) {\n    // Since we don't have direct access to image/video dimensions here,\n    // we can assume portrait if URL contains 'portrait' or similar heuristic,\n    // or alternatively, this logic can be enhanced with actual metadata if available.\n    // For now, we will just return false (landscape) as default.\n    return false;\n  };\n  if (combinedMedia.length === 1) {\n    mediaSectionClass += \" single\";\n    mediaOrientationClass = isPortrait(combinedMedia[0].url) ? \" portrait\" : \" landscape\";\n  } else if (combinedMedia.length === 2) {\n    mediaSectionClass += \" double\";\n    // For simplicity, if both are portrait, add portrait class, else landscape\n    var allPortrait = combinedMedia.every(function (m) {\n      return isPortrait(m.url);\n    });\n    mediaOrientationClass = allPortrait ? \" portrait\" : \" landscape\";\n  } else if (combinedMedia.length === 3) {\n    mediaSectionClass += \" triple\";\n    var _allPortrait = combinedMedia.every(function (m) {\n      return isPortrait(m.url);\n    });\n    mediaOrientationClass = _allPortrait ? \" portrait\" : \" landscape\";\n  } else if (combinedMedia.length >= 4) {\n    mediaSectionClass += \" grid\";\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post card mb-4 shadow-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-header d-flex align-items-center mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    className: \"author-name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, highlightText(\"\".concat(report.author.name.first, \" \").concat(report.author.name.last), searchQuery)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author-station\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, highlightText(report.author.station, searchQuery)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"date-created\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, moment(report.dateCreated).fromNow()))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-content mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"post-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, highlightText(report.title, searchQuery)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, expandedReports[report._id] ? highlightText(report.lead || \"\", searchQuery) : (typeof report.lead === \"string\" ? highlightText(report.lead.split(\" \").slice(0, 30).join(\" \"), searchQuery) : \"\") + (typeof report.lead === \"string\" && report.lead.split(\" \").length > 30 ? \"...\" : \"\"), typeof report.lead === \"string\" && report.lead.split(\" \").length > 30 && /*#__PURE__*/React.createElement(\"span\", {\n    onClick: function onClick() {\n      return toggleExpand(report._id);\n    },\n    className: \"expand-toggle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, expandedReports[report._id] ? \" see less\" : \" see more\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"post-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, \"Story: \"), expandedReports[report._id + \"_body\"] ? highlightText(report.body || \"\", searchQuery) : (typeof report.body === \"string\" ? highlightText(report.body.split(\" \").slice(0, 50).join(\" \"), searchQuery) : \"\") + (typeof report.body === \"string\" && report.body.split(\" \").length > 50 ? \"...\" : \"\"), typeof report.body === \"string\" && report.body.split(\" \").length > 50 && /*#__PURE__*/React.createElement(\"span\", {\n    onClick: function onClick() {\n      return toggleExpand(report._id + \"_body\");\n    },\n    className: \"expand-toggle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, expandedReports[report._id + \"_body\"] ? \" see less\" : \" see more\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, \"Tags: \"), highlightText(report.tags.join(\", \"), searchQuery)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, \"Remarks: \"), highlightText(report.remarks || \"\", searchQuery))), combinedMedia.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: mediaSectionClass,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, combinedMedia.length >= 4 ? combinedMedia.slice(0, 4).map(function (media, idx) {\n    if (media.type === \"image\") {\n      if (idx === 3 && combinedMedia.length > 4) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: idx,\n          className: \"media-image\",\n          onClick: function onClick() {\n            return handleShowMediaModal(combinedMedia, null, idx);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: media.url,\n          alt: \"media-\".concat(idx),\n          draggable: \"true\",\n          onDragStart: function onDragStart(e) {\n            e.dataTransfer.setData(\"DownloadURL\", \"image/jpeg:\".concat(media.url));\n          },\n          style: {\n            filter: \"brightness(70%)\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"media-overlay-count\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }\n        }, \"+\", combinedMedia.length - 4));\n      }\n      return /*#__PURE__*/React.createElement(\"img\", {\n        key: idx,\n        src: media.url,\n        alt: \"media-\".concat(idx),\n        className: \"media-image\",\n        draggable: \"true\",\n        onDragStart: function onDragStart(e) {\n          e.dataTransfer.setData(\"DownloadURL\", \"image/jpeg:\".concat(media.url));\n        },\n        onClick: function onClick() {\n          return handleShowMediaModal(combinedMedia, null, idx);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }\n      });\n    } else if (media.type === \"video\") {\n      if (idx === 3 && combinedMedia.length > 4) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: idx,\n          className: \"media-video\",\n          onClick: function onClick() {\n            return handleShowMediaModal(combinedMedia, null, idx);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"video\", {\n          draggable: \"true\",\n          onDragStart: function onDragStart(e) {\n            e.dataTransfer.setData(\"DownloadURL\", \"video/mp4:\".concat(media.url));\n          },\n          style: {\n            filter: \"brightness(70%)\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"source\", {\n          src: media.url,\n          type: \"video/mp4\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 27\n          }\n        }), \"Your browser does not support the video element.\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"play-button\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }\n        }, \"\\u25BA\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"media-overlay-count\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 25\n          }\n        }, \"+\", combinedMedia.length - 4));\n      }\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: idx,\n        className: \"media-video\",\n        draggable: \"true\",\n        onDragStart: function onDragStart(e) {\n          e.dataTransfer.setData(\"DownloadURL\", \"video/mp4:\".concat(media.url));\n        },\n        onClick: function onClick() {\n          return handleShowMediaModal(combinedMedia, null, idx);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"video\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"source\", {\n        src: media.url,\n        type: \"video/mp4\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 25\n        }\n      }), \"Your browser does not support the video element.\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"play-button\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 23\n        }\n      }, \"\\u25BA\"));\n    } else {\n      return null;\n    }\n  }) : combinedMedia.map(function (media, idx) {\n    if (media.type === \"image\") {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        key: idx,\n        src: media.url,\n        alt: \"media-\".concat(idx),\n        className: \"media-image\",\n        draggable: \"true\",\n        onDragStart: function onDragStart(e) {\n          e.dataTransfer.setData(\"DownloadURL\", \"image/jpeg:\".concat(media.url));\n        },\n        onClick: function onClick() {\n          return handleShowMediaModal(combinedMedia, null, idx);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }\n      });\n    } else if (media.type === \"video\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: idx,\n        className: \"media-video\",\n        draggable: \"true\",\n        onDragStart: function onDragStart(e) {\n          e.dataTransfer.setData(\"DownloadURL\", \"video/mp4:\".concat(media.url));\n        },\n        onClick: function onClick() {\n          return handleShowMediaModal(combinedMedia, null, idx);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"video\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"source\", {\n        src: media.url,\n        type: \"video/mp4\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 25\n        }\n      }), \"Your browser does not support the video element.\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"play-button\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 23\n        }\n      }, \"\\u25BA\"));\n    } else {\n      return null;\n    }\n  })), report.files && report.files.audios && report.files.audios.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"audio-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 11\n    }\n  }, \"Audio:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"audio-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 11\n    }\n  }, report.files.audios.map(function (audio, index) {\n    var audioUrl = \"https://pbs-nims.s3.ap-southeast-1.amazonaws.com\".concat(audio);\n    return /*#__PURE__*/React.createElement(\"audio\", {\n      key: index,\n      controls: true,\n      draggable: \"true\",\n      onDragStart: function onDragStart(e) {\n        e.dataTransfer.setData(\"DownloadURL\", \"audio/mpeg:\".concat(audioUrl));\n      },\n      onClick: function onClick() {\n        return handleShowMediaModal(report.files.audios.map(function (a) {\n          return {\n            type: \"audio\",\n            url: \"https://pbs-nims.s3.ap-southeast-1.amazonaws.com\".concat(a)\n          };\n        }), \"audio\", index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"source\", {\n      src: audioUrl,\n      type: \"audio/mpeg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 19\n      }\n    }), \"Your browser does not support the audio tag.\");\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-actions d-flex justify-content-between mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    size: \"sm\",\n    onClick: function onClick() {\n      return handleShowModal(report);\n    },\n    \"aria-label\": \"Read full story of \".concat(report.title),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FaBookOpen, {\n    style: {\n      marginRight: \"6px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 11\n    }\n  }), \"Read Full Story\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"danger\",\n    size: \"sm\",\n    onClick: function onClick() {\n      return handleDeleteReport(report._id);\n    },\n    \"aria-label\": \"Delete report titled \".concat(report.title),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FaTrash, {\n    style: {\n      marginRight: \"6px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 11\n    }\n  }), \"Delete\")));\n};\nexport default ReportCard;","map":{"version":3,"names":["React","useState","moment","Button","FaBookOpen","FaTrash","ReportCard","_ref","report","handleShowModal","handleDeleteReport","handleShowMediaModal","searchQuery","_useState","_useState2","_slicedToArray","expandedReports","setExpandedReports","highlightText","text","query","regex","RegExp","concat","replace","parts","split","map","part","i","test","createElement","key","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","toggleExpand","prev","_objectSpread","_defineProperty","combinedMedia","image","imageUrl","push","type","url","files","images","length","forEach","img","videos","video","mediaSectionClass","mediaOrientationClass","isPortrait","allPortrait","every","m","author","name","first","last","station","dateCreated","fromNow","title","_id","lead","slice","join","onClick","body","tags","remarks","media","idx","src","alt","draggable","onDragStart","e","dataTransfer","setData","style","filter","audios","audio","index","audioUrl","controls","a","variant","size","marginRight"],"sources":["C:/Users/User/Desktop/NIMS/src/components/ReportCard.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { FaBookOpen, FaTrash } from \"react-icons/fa\";\r\nimport \"./ReportCard.css\";\r\n\r\nconst ReportCard = ({ report, handleShowModal, handleDeleteReport, handleShowMediaModal, searchQuery }) => {\r\n  const [expandedReports, setExpandedReports] = useState({});\r\n\r\n  // Helper function to highlight matching text\r\n  const highlightText = (text, query) => {\r\n    if (!query) return text;\r\n    const regex = new RegExp(`(${query.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')})`, \"gi\");\r\n    const parts = text.split(regex);\r\n    return parts.map((part, i) =>\r\n      regex.test(part) ? (\r\n        <mark key={i} className=\"highlight\">{part}</mark>\r\n      ) : (\r\n        part\r\n      )\r\n    );\r\n  };\r\n\r\n  // Toggle expanded state for lead and body\r\n  const toggleExpand = (key) => {\r\n    setExpandedReports((prev) => ({\r\n      ...prev,\r\n      [key]: !prev[key],\r\n    }));\r\n  };\r\n\r\n  // Combined media for images and videos\r\n  const combinedMedia = [];\r\n\r\n  if (report.image || report.imageUrl) {\r\n    combinedMedia.push({\r\n      type: \"image\",\r\n      url: report.image || report.imageUrl,\r\n    });\r\n  }\r\n\r\n  if (report.files && report.files.images && report.files.images.length > 0) {\r\n    report.files.images.forEach((img) => {\r\n      combinedMedia.push({\r\n        type: \"image\",\r\n        url: `https://pbs-nims.s3.ap-southeast-1.amazonaws.com${img}`,\r\n      });\r\n    });\r\n  }\r\n\r\n  if (report.files && report.files.videos && report.files.videos.length > 0) {\r\n    report.files.videos.forEach((video) => {\r\n      combinedMedia.push({\r\n        type: \"video\",\r\n        url: `https://pbs-nims.s3.ap-southeast-1.amazonaws.com${video}`,\r\n      });\r\n    });\r\n  }\r\n\r\n  // Assign media section class based on number of media items for proper sizing\r\n  // Also separate portrait and landscape media for different sizing\r\n  let mediaSectionClass = \"media-section\";\r\n  let mediaOrientationClass = \"\";\r\n\r\n  // Helper function to determine orientation of media by aspect ratio\r\n  const isPortrait = (url) => {\r\n    // Since we don't have direct access to image/video dimensions here,\r\n    // we can assume portrait if URL contains 'portrait' or similar heuristic,\r\n    // or alternatively, this logic can be enhanced with actual metadata if available.\r\n    // For now, we will just return false (landscape) as default.\r\n    return false;\r\n  };\r\n\r\n  if (combinedMedia.length === 1) {\r\n    mediaSectionClass += \" single\";\r\n    mediaOrientationClass = isPortrait(combinedMedia[0].url) ? \" portrait\" : \" landscape\";\r\n  } else if (combinedMedia.length === 2) {\r\n    mediaSectionClass += \" double\";\r\n    // For simplicity, if both are portrait, add portrait class, else landscape\r\n    const allPortrait = combinedMedia.every((m) => isPortrait(m.url));\r\n    mediaOrientationClass = allPortrait ? \" portrait\" : \" landscape\";\r\n  } else if (combinedMedia.length === 3) {\r\n    mediaSectionClass += \" triple\";\r\n    const allPortrait = combinedMedia.every((m) => isPortrait(m.url));\r\n    mediaOrientationClass = allPortrait ? \" portrait\" : \" landscape\";\r\n  } else if (combinedMedia.length >= 4) {\r\n    mediaSectionClass += \" grid\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"post card mb-4 shadow-sm\">\r\n      <div className=\"post-header d-flex align-items-center mb-3\">\r\n        <div>\r\n          <strong className=\"author-name\">\r\n            {highlightText(`${report.author.name.first} ${report.author.name.last}`, searchQuery)}\r\n          </strong>\r\n          <div className=\"author-station\">\r\n            {highlightText(report.author.station, searchQuery)}\r\n          </div>\r\n          <div className=\"date-created\">\r\n            {moment(report.dateCreated).fromNow()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"post-content mb-3\">\r\n        <h5 className=\"post-title\">{highlightText(report.title, searchQuery)}</h5>\r\n        <p>\r\n          {expandedReports[report._id]\r\n            ? highlightText(report.lead || \"\", searchQuery)\r\n            : (typeof report.lead === \"string\"\r\n                ? highlightText(report.lead.split(\" \").slice(0, 30).join(\" \"), searchQuery)\r\n                : \"\") +\r\n              ((typeof report.lead === \"string\" && report.lead.split(\" \").length > 30) ? \"...\" : \"\")}\r\n          {(typeof report.lead === \"string\" && report.lead.split(\" \").length > 30) && (\r\n            <span\r\n              onClick={() => toggleExpand(report._id)}\r\n              className=\"expand-toggle\"\r\n            >\r\n              {expandedReports[report._id] ? \" see less\" : \" see more\"}\r\n            </span>\r\n          )}\r\n        </p>\r\n        <p className=\"post-body\">\r\n          <strong>Story: </strong>\r\n          {expandedReports[report._id + \"_body\"]\r\n            ? highlightText(report.body || \"\", searchQuery)\r\n            : (typeof report.body === \"string\"\r\n                ? highlightText(report.body.split(\" \").slice(0, 50).join(\" \"), searchQuery)\r\n                : \"\") +\r\n              ((typeof report.body === \"string\" && report.body.split(\" \").length > 50) ? \"...\" : \"\")}\r\n          {(typeof report.body === \"string\" && report.body.split(\" \").length > 50) && (\r\n            <span\r\n              onClick={() => toggleExpand(report._id + \"_body\")}\r\n              className=\"expand-toggle\"\r\n            >\r\n              {expandedReports[report._id + \"_body\"] ? \" see less\" : \" see more\"}\r\n            </span>\r\n          )}\r\n        </p>\r\n        <p>\r\n          <strong>Tags: </strong>\r\n          {highlightText(report.tags.join(\", \"), searchQuery)}\r\n        </p>\r\n        <p>\r\n          <strong>Remarks: </strong>\r\n          {highlightText(report.remarks || \"\", searchQuery)}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Media Section */}\r\n      {combinedMedia.length > 0 && (\r\n        <div className={mediaSectionClass}>\r\n          {combinedMedia.length >= 4\r\n            ? combinedMedia.slice(0, 4).map((media, idx) => {\r\n                if (media.type === \"image\") {\r\n                  if (idx === 3 && combinedMedia.length > 4) {\r\n                    return (\r\n                      <div\r\n                        key={idx}\r\n                        className=\"media-image\"\r\n                        onClick={() => handleShowMediaModal(combinedMedia, null, idx)}\r\n                      >\r\n                        <img\r\n                          src={media.url}\r\n                          alt={`media-${idx}`}\r\n                          draggable=\"true\"\r\n                          onDragStart={(e) => {\r\n                            e.dataTransfer.setData(\"DownloadURL\", `image/jpeg:${media.url}`);\r\n                          }}\r\n                          style={{ filter: \"brightness(70%)\" }}\r\n                        />\r\n                        <div className=\"media-overlay-count\">\r\n                          +{combinedMedia.length - 4}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n                  return (\r\n                    <img\r\n                      key={idx}\r\n                      src={media.url}\r\n                      alt={`media-${idx}`}\r\n                      className=\"media-image\"\r\n                      draggable=\"true\"\r\n                      onDragStart={(e) => {\r\n                        e.dataTransfer.setData(\"DownloadURL\", `image/jpeg:${media.url}`);\r\n                      }}\r\n                      onClick={() => handleShowMediaModal(combinedMedia, null, idx)}\r\n                    />\r\n                  );\r\n                } else if (media.type === \"video\") {\r\n                  if (idx === 3 && combinedMedia.length > 4) {\r\n                    return (\r\n                      <div\r\n                        key={idx}\r\n                        className=\"media-video\"\r\n                        onClick={() => handleShowMediaModal(combinedMedia, null, idx)}\r\n                      >\r\n                        <video\r\n                          draggable=\"true\"\r\n                          onDragStart={(e) => {\r\n                            e.dataTransfer.setData(\"DownloadURL\", `video/mp4:${media.url}`);\r\n                          }}\r\n                          style={{ filter: \"brightness(70%)\" }}\r\n                        >\r\n                          <source src={media.url} type=\"video/mp4\" />\r\n                          Your browser does not support the video element.\r\n                        </video>\r\n                        <div className=\"play-button\">&#9658;</div>\r\n                        <div className=\"media-overlay-count\">\r\n                          +{combinedMedia.length - 4}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n                  return (\r\n                    <div\r\n                      key={idx}\r\n                      className=\"media-video\"\r\n                      draggable=\"true\"\r\n                      onDragStart={(e) => {\r\n                        e.dataTransfer.setData(\"DownloadURL\", `video/mp4:${media.url}`);\r\n                      }}\r\n                      onClick={() => handleShowMediaModal(combinedMedia, null, idx)}\r\n                    >\r\n                      <video>\r\n                        <source src={media.url} type=\"video/mp4\" />\r\n                        Your browser does not support the video element.\r\n                      </video>\r\n                      <div className=\"play-button\">&#9658;</div>\r\n                    </div>\r\n                  );\r\n                } else {\r\n                  return null;\r\n                }\r\n              })\r\n            : combinedMedia.map((media, idx) => {\r\n                if (media.type === \"image\") {\r\n                  return (\r\n                    <img\r\n                      key={idx}\r\n                      src={media.url}\r\n                      alt={`media-${idx}`}\r\n                      className=\"media-image\"\r\n                      draggable=\"true\"\r\n                      onDragStart={(e) => {\r\n                        e.dataTransfer.setData(\"DownloadURL\", `image/jpeg:${media.url}`);\r\n                      }}\r\n                      onClick={() => handleShowMediaModal(combinedMedia, null, idx)}\r\n                    />\r\n                  );\r\n                } else if (media.type === \"video\") {\r\n                  return (\r\n                    <div\r\n                      key={idx}\r\n                      className=\"media-video\"\r\n                      draggable=\"true\"\r\n                      onDragStart={(e) => {\r\n                        e.dataTransfer.setData(\"DownloadURL\", `video/mp4:${media.url}`);\r\n                      }}\r\n                      onClick={() => handleShowMediaModal(combinedMedia, null, idx)}\r\n                    >\r\n                      <video>\r\n                        <source src={media.url} type=\"video/mp4\" />\r\n                        Your browser does not support the video element.\r\n                      </video>\r\n                      <div className=\"play-button\">&#9658;</div>\r\n                    </div>\r\n                  );\r\n                } else {\r\n                  return null;\r\n                }\r\n              })}\r\n        </div>\r\n      )}\r\n\r\n      {/* Separate Audio Section */}\r\n      {report.files && report.files.audios && report.files.audios.length > 0 && (\r\n        <div className=\"audio-section\">\r\n          <h6>Audio:</h6>\r\n          <div className=\"audio-list\">\r\n            {report.files.audios.map((audio, index) => {\r\n              const audioUrl = `https://pbs-nims.s3.ap-southeast-1.amazonaws.com${audio}`;\r\n              return (\r\n                <audio\r\n                  key={index}\r\n                  controls\r\n                  draggable=\"true\"\r\n                  onDragStart={(e) => {\r\n                    e.dataTransfer.setData(\"DownloadURL\", `audio/mpeg:${audioUrl}`);\r\n                  }}\r\n                  onClick={() =>\r\n                    handleShowMediaModal(\r\n                      report.files.audios.map((a) => ({\r\n                        type: \"audio\",\r\n                        url: `https://pbs-nims.s3.ap-southeast-1.amazonaws.com${a}`,\r\n                      })),\r\n                      \"audio\",\r\n                      index\r\n                    )\r\n                  }\r\n                >\r\n                  <source src={audioUrl} type=\"audio/mpeg\" />\r\n                  Your browser does not support the audio tag.\r\n                </audio>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"post-actions d-flex justify-content-between mt-3\">\r\n        <Button\r\n          variant=\"primary\"\r\n          size=\"sm\"\r\n          onClick={() => handleShowModal(report)}\r\n          aria-label={`Read full story of ${report.title}`}\r\n        >\r\n          <FaBookOpen style={{ marginRight: \"6px\" }} />\r\n          Read Full Story\r\n        </Button>\r\n        <Button\r\n          variant=\"danger\"\r\n          size=\"sm\"\r\n          onClick={() => handleDeleteReport(report._id)}\r\n          aria-label={`Delete report titled ${report.title}`}\r\n        >\r\n          <FaTrash style={{ marginRight: \"6px\" }} />\r\n          Delete\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}